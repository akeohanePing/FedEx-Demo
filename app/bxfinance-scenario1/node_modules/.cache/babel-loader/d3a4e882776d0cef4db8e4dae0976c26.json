{"ast":null,"code":"import _classCallCheck from\"/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _slicedToArray from\"/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Packages\nimport React from'react';import{Button,Jumbotron,Row,Col,Collapse,Container,Navbar,NavbarToggler,Nav,NavItem,NavLink,Media//TODO this shows unused. validate and remove.\n,Modal,ModalHeader,ModalBody}from'reactstrap';import{Link,NavLink as RRNavLink}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faLinkedinIn,faFacebookF,faTwitter,faInstagram}from'@fortawesome/free-brands-svg-icons';// Components\nimport AccountsSubnav from'../components/AccountsSubnav';import PingData from'../components/Integration/PingData';/* PING INTEGRATION: */import Session from'../components/Utils/Session';/* PING INTEGRATION: */import PingOAuth from'../components/Integration/PingOAuth';/* PING INTEGRATION: */import JSONSearch from'../components/Utils/JSONSearch';/* PING INTEGRATION: */import ModalError from'../components/ModalError/';/* PING INTEGRATION: */ // Data\nimport data from'../data/any-marketing.json';// Styles\nimport'../styles/pages/any-marketing.scss';// Autocomplete Suggestion List\nvar SuggestionsList=function SuggestionsList(props){var suggestions=props.suggestions,inputValue=props.inputValue,onSelectSuggestion=props.onSelectSuggestion,displaySuggestions=props.displaySuggestions,selectedSuggestion=props.selectedSuggestion;if(inputValue&&displaySuggestions){if(suggestions.length>0){return/*#__PURE__*/React.createElement(\"ul\",{className:\"suggestions-list\"},suggestions.map(function(suggestion,index){var isSelected=selectedSuggestion===index;var classname=\"suggestion \".concat(isSelected?\"selected\":\"\");return/*#__PURE__*/React.createElement(\"li\",{key:index,className:classname,onClick:function onClick(){return onSelectSuggestion(index);}},suggestion);}));}else{return/*#__PURE__*/React.createElement(\"ul\",{className:\"suggestions-list\"},/*#__PURE__*/React.createElement(\"li\",{className:\"suggestion\"},\"No suggestions available...\"));}}return/*#__PURE__*/React.createElement(\"div\",null);};// Search Autocomplete\nvar SearchAutocomplete=function SearchAutocomplete(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),inputValue=_React$useState2[0],setInputValue=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),filteredSuggestions=_React$useState4[0],setFilteredSuggestions=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),selectedSuggestion=_React$useState6[0],setSelectedSuggestion=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),displaySuggestions=_React$useState8[0],setDisplaySuggestions=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isModalOpen=_React$useState10[0],setIsModalOpen=_React$useState10[1];/* BEGIN PING INTEGRATION: */var initialState={fullName:\"\",homeAddress:\"\",email:\"\",mobileNumber:\"\"};var _React$useState11=React.useState(initialState),_React$useState12=_slicedToArray(_React$useState11,2),_React$useState12$=_React$useState12[0],fullName=_React$useState12$.fullName,homeAddress=_React$useState12$.homeAddress,email=_React$useState12$.email,mobileNumber=_React$useState12$.mobileNumber,setConsentState=_React$useState12[1];/* END PING INTEGRATION: */var onChange=function onChange(event){var value=event.target.value;setInputValue(value);var filteredSuggestions=data.dashboard.suggestions.filter(function(suggestion){return suggestion.toLowerCase().includes(value.toLowerCase());});setFilteredSuggestions(filteredSuggestions);setDisplaySuggestions(true);};var onSelectSuggestion=function onSelectSuggestion(index){/* BEING PING INTEGRATION */var pingOAuthObj=new PingOAuth();/* PING INTEGRATION: */var pingDataObj=new PingData();/* PING INTEGRATION: */setConsentState(initialState);//Clearing previous values so they don't show while modal re-renders.\npingOAuthObj.getToken({uid:'marketingApp',client:'marketingApp',responseType:'',scopes:'urn:pingdirectory:consent'}).then(function(consent_token){pingDataObj.getUserConsentedData(consent_token,\"marketing\",filteredSuggestions[index]).then(function(jsonResults){var fullName;try{fullName=jsonResults.Resources[0].cn[0];}catch(e){fullName=\"This customer did not consent to receiving marketing communications.\";}//Fail with the utmost grace and leisure.\nvar fullAddress;try{fullAddress=jsonResults.Resources[0].street[0]+\", \"+jsonResults.Resources[0].l[0]+\", \"+jsonResults.Resources[0].postalCode[0];}catch(e){}//Fail with the utmost grace and leisure.\nvar email;try{email=jsonResults.Resources[0].mail[0];}catch(e){}//Fail with the utmost grace and leisure.\nvar mobileNumber;try{mobileNumber=jsonResults.Resources[0].mobile[0];}catch(e){}//Fail with the utmost grace and leisure.\nvar newState={fullName:fullName,homeAddress:fullAddress,email:email,mobileNumber:mobileNumber};setConsentState(newState);}).catch(function(error){console.error(\"getUserConsentedData Exception\",error);});}).catch(function(error){console.error(\"getToken Exception\",error);});/* END PING INTEGRATION: */setSelectedSuggestion(index);setInputValue(filteredSuggestions[index]);setFilteredSuggestions([]);setDisplaySuggestions(false);setIsModalOpen(true);};var triggerModal=function triggerModal(index){setIsModalOpen(false);setInputValue('');};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"form-search form-inline float-right\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control user-input\",type:\"text\",placeholder:data.dashboard.search_placeholder,onChange:onChange,value:inputValue}),/*#__PURE__*/React.createElement(SuggestionsList,{inputValue:inputValue,selectedSuggestion:selectedSuggestion,onSelectSuggestion:onSelectSuggestion,displaySuggestions:displaySuggestions,suggestions:filteredSuggestions}),/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/search.svg\",className:\"img-search\"})),/*#__PURE__*/React.createElement(Modal,{isOpen:isModalOpen,toggle:triggerModal,className:\"modal-lg any-marketing modal-record\",centered:true,backdropClassName:\"modal-backdrop-record\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:triggerModal},\"Record Overview\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Row,{className:\"mb-3\",key:0},/*#__PURE__*/React.createElement(Col,{md:\"3\"},\"Name:\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},fullName?fullName:/*#__PURE__*/React.createElement(\"div\",{className:\"bg-dark\"},\"test\"))),/*#__PURE__*/React.createElement(Row,{className:\"mb-3\",key:1},/*#__PURE__*/React.createElement(Col,{md:\"3\"},\"Mail Address:\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},homeAddress!=='undefined'?homeAddress:/*#__PURE__*/React.createElement(\"div\",{className:\"bg-dark\"},\"test\"))),/*#__PURE__*/React.createElement(Row,{className:\"mb-3\",key:2},/*#__PURE__*/React.createElement(Col,{md:\"3\"},\"Email Address:\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},email!=='undefined'?email:/*#__PURE__*/React.createElement(\"div\",{className:\"bg-dark\"},\"test\"))),/*#__PURE__*/React.createElement(Row,{className:\"mb-3\",key:3},/*#__PURE__*/React.createElement(Col,{md:\"3\"},\"SMS/TXT Phone:\"),/*#__PURE__*/React.createElement(Col,{md:\"6\"},mobileNumber!=='undefined'?mobileNumber:/*#__PURE__*/React.createElement(\"div\",{className:\"bg-dark\"},\"test\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"float-right\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"mr-3\"},data.record.buttons.inspect),/*#__PURE__*/React.createElement(Button,{color:\"primary\"},data.record.buttons.modify)))));};// Main AnyMarketing Page\nvar AnyMarketing=/*#__PURE__*/function(_React$Component){_inherits(AnyMarketing,_React$Component);var _super=_createSuper(AnyMarketing);function AnyMarketing(){var _this;_classCallCheck(this,AnyMarketing);_this=_super.call(this);_this.state={isOpen:false,loggedOut:true};_this.PingData=new PingData();/* PING INTEGRATION: */_this.Session=new Session();/* PING INTEGRATION: */_this.PingOAuth=new PingOAuth();/* PING INTEGRATION: */_this.JSONSearch=new JSONSearch();/* PING INTEGRATION: */return _this;}_createClass(AnyMarketing,[{key:\"toggle\",value:function toggle(){this.setState({isOpen:!this.state.isOpen});}/* BEGIN PING INTEGRATION: */},{key:\"signOut\",value:function signOut(){// end the local app session.\nthis.Session.clearUserAppSession();//A marketing rep should just be taken back to P14E dock. A workforce persona shouldn't get SLO'd.\nwindow.location.assign(\"https://desktop.pingone.com/anywealthadvisor/\");}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var isLoggedOut=this.Session.getAuthenticatedUserItem(\"subject\")===null||this.Session.getAuthenticatedUserItem(\"subject\")==='undefined'?true:false;// this.Session.protectPage(isLoggedOut, window.location.pathname, this.Session.getAuthenticatedUserItem(\"bxFinanceUserType\"));\nthis.setState({loggedOut:isLoggedOut});// Getting users from PD.\nthis.PingData.getSearchableUsers({}).then(function(response){return response.json();}).then(function(jsonSearchResults){// Get an array of just uid's from the results.\nvar people=_this2.JSONSearch.findValues(jsonSearchResults._embedded.entries,\"uid\");// Repopulate the data used in SearchAutocomplete().\ndata.dashboard.suggestions=people.map(function(person){return\"\".concat(person);});}).catch(function(e){console.error(\"getSearchableUsers Exception\",e);});}/* END PING INTEGRATION: */},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"any-marketing\"},/*#__PURE__*/React.createElement(\"section\",{className:\"navbar-awa\"},/*#__PURE__*/React.createElement(Navbar,{color:\"light\",light:true,expand:\"md\",className:\"navbar-desktop\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"navbar-brand\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/any-marketing-logo.svg\",alt:data.brand})),/*#__PURE__*/React.createElement(NavbarToggler,{onClick:this.toggle.bind(this)}),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.isOpen,navbar:true},/*#__PURE__*/React.createElement(Nav,{className:\"justify-content-end ml-auto navbar-nav-utility\",navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/search.svg\",alt:data.menus.utility.search}))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/map-marker.svg\",alt:data.menus.utility.locations}))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/support.svg\",alt:data.menus.utility.support}))),/*#__PURE__*/React.createElement(NavItem,{className:\"logout\"},!this.state.loggedOut&&/*#__PURE__*/React.createElement(\"a\",{onClick:this.signOut.bind(this),className:\"nav-link\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/user.svg\",alt:data.menus.utility.logout,className:\"mr-1\"}),\" \",data.menus.utility.logout),this.state.loggedOut&&/*#__PURE__*/React.createElement(\"a\",{onClick:this.signOut.bind(this),className:\"nav-link\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/user.svg\",alt:data.menus.utility.login,className:\"mr-1\"}),\" \",data.menus.utility.logout)))))),/*#__PURE__*/React.createElement(Navbar,{color:\"light\",light:true,expand:\"md\",className:\"navbar-desktop\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Nav,{className:\"mr-auto navbar-nav-main\",navbar:true},data.menus.primary.map(function(item,i){return/*#__PURE__*/React.createElement(NavItem,{key:i},/*#__PURE__*/React.createElement(NavLink,{to:item.url,activeClassName:\"active\",exact:true,tag:RRNavLink},item.title));})))),/*#__PURE__*/React.createElement(Navbar,{color:\"light\",light:true,expand:\"md\",className:\"navbar-mobile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mobilenav-menu\"},/*#__PURE__*/React.createElement(NavbarToggler,{onClick:this.toggle.bind(this)})),/*#__PURE__*/React.createElement(\"div\",{className:\"mobilenav-brand\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"navbar-brand\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/any-marketing-logo.svg\",alt:data.brand}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mobilenav-login\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"nav-link logout\"},\"Sign Out\")),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.isOpen,navbar:true},/*#__PURE__*/React.createElement(Nav,{className:\"navbar-nav-main navbar-light bg-light\",navbar:true},data.menus.primary.map(function(item,i){return/*#__PURE__*/React.createElement(NavItem,{key:i},/*#__PURE__*/React.createElement(NavLink,{to:item.url,activeClassName:\"active\",exact:true,tag:RRNavLink},item.title));})),/*#__PURE__*/React.createElement(Nav,{className:\"navbar-nav-utility\",navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/search.svg\",alt:data.menus.utility.search,className:\"mr-1\"}),\" \",data.menus.utility.search)),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/map-marker.svg\",alt:data.menus.utility.locations,className:\"mr-1\"}),\" \",data.menus.utility.locations)),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/support.svg\",alt:data.menus.utility.support,className:\"mr-1\"}),\" \",data.menus.utility.support)),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/icons/user.svg\",alt:data.menus.utility.logout,className:\"mr-1\"}),\" \",data.menus.utility.logout)))))),/*#__PURE__*/React.createElement(\"section\",{className:\"welcome-bar\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,data.welcome_bar)))))),/*#__PURE__*/React.createElement(\"section\",{className:\"section-content\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"3\"},Object.keys(data.subnav).map(function(key){return/*#__PURE__*/React.createElement(AccountsSubnav,{key:data.subnav[key].title,subnav:data.subnav[key]});}),/*#__PURE__*/React.createElement(\"h5\",{className:\"mt-5\"},data.alerts.title),Object.keys(data.alerts.messages).map(function(key){return/*#__PURE__*/React.createElement(\"p\",{key:key,dangerouslySetInnerHTML:{__html:data.alerts.messages[key]}});}),/*#__PURE__*/React.createElement(Button,{color:\"link\",className:\"mb-4\"},data.alerts.button)),/*#__PURE__*/React.createElement(Col,{lg:\"9\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-4\"},data.dashboard.title)),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(SearchAutocomplete,null))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/any-marketing-table.png\",className:\"img-fluid mb-5\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"bg-light p-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-right\"},/*#__PURE__*/React.createElement(Button,{color:\"link\"},data.metrics.buttons.insights),/*#__PURE__*/React.createElement(Button,{color:\"link\"},data.metrics.buttons.data)),/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-4\"},data.metrics.title),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/any-marketing-pie-chart.png\",className:\"img-fluid\"})),/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+\"/images/any-marketing-graph-chart.png\",className:\"img-fluid\"})))))))),/*#__PURE__*/React.createElement(\"footer\",{className:\"footer-awa\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\",lg:\"4\",xl:\"6\",className:\"order-2 order-md-1\"},/*#__PURE__*/React.createElement(Nav,{className:\"nav-social\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{href:\"#\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLinkedinIn,size:\"2x\"}))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{href:\"#\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFacebookF,size:\"2x\"}))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{href:\"#\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTwitter,size:\"2x\"}))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{href:\"#\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faInstagram,size:\"2x\"})))),/*#__PURE__*/React.createElement(\"p\",{dangerouslySetInnerHTML:{__html:data.copyright}})),/*#__PURE__*/React.createElement(Col,{md:\"6\",lg:\"8\",xl:\"6\",className:\"order-1 order-md-2\"},/*#__PURE__*/React.createElement(Nav,{className:\"nav-main\"},data.menus.footer.map(function(item,i){return/*#__PURE__*/React.createElement(NavItem,{className:\"nav-item-parent\",key:i},/*#__PURE__*/React.createElement(NavLink,{href:item.url},item.title),/*#__PURE__*/React.createElement(Nav,{vertical:true},item.children.map(function(item,i){return/*#__PURE__*/React.createElement(NavItem,{key:i},/*#__PURE__*/React.createElement(NavLink,{href:item.url},item.title));})));})))))),/*#__PURE__*/React.createElement(ModalError,{ref:\"modalError\"}),\" \");}}]);return AnyMarketing;}(React.Component);export default AnyMarketing;","map":null,"metadata":{},"sourceType":"module"}