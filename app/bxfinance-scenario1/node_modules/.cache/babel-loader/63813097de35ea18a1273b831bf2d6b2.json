{"ast":null,"code":"var _jsxFileName = \"/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/src/components/NavbarMain/NavbarMain.js\";\n// Packages\nimport React from 'react';\nimport { Collapse, Container, Navbar, NavbarToggler, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom'; // Components\n\nimport ModalRegister from '../ModalRegister';\nimport ModalRegisterConfirm from '../ModalRegisterConfirm';\nimport ModalLogin from '../ModalLogin';\nimport PingAuthN from '../Integration/PingAuthN';\n/* PING INTEGRATION */\n\nimport Session from '../Utils/Session';\n/* PING INTEGRATION */\n\nimport ModalError from '../ModalError';\n/* PING INTEGRATION: */\n\nimport './NavbarMain.scss';\nimport IdleTimer from 'react-idle-timer';\n/* PING INTEGRATION: */\n\nimport { IdleTimeOutModal } from '../ModalTimeout/IdleTimeOutModal';\n/* PING INTEGRATION: */\n// Data\n\nimport data from './data.json';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown';\nimport AccountCircle from '@material-ui/icons/AccountCircleOutlined';\nimport Search from '@material-ui/icons/Search';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    width: '100vw',\n    padding: 0\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    height: \"30px !important\",\n    fontSize: \"30px !important\"\n  },\n  title: {\n    flexGrow: 1\n  }\n});\n\nclass NavbarMain extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n      loggedOut: true,\n\n      /* PING INTEGRATION: */\n      timeout: 1000 * 60 * 30,\n\n      /* PING INTEGRATION: for react-idle-timer */\n      showTimeoutModal: false,\n\n      /* PING INTEGRATION: for react-idle-timer */\n      isTimedOut: false\n      /* PING INTEGRATION: for react-idle-timer */\n\n    };\n    /* BEGIN PING INTEGRATION: */\n\n    this.PingAuthN = new PingAuthN();\n    this.Session = new Session();\n    this.IdleTimer = null;\n    this.onAction = this._onAction.bind(this);\n    /* PING INTEGRATION: for react-idle-timer */\n\n    this.onActive = this._onActive.bind(this);\n    /* PING INTEGRATION: for react-idle-timer */\n\n    this.onIdle = this._onIdle.bind(this);\n    /* PING INTEGRATION: for react-idle-timer */\n\n    this.handleClose = this.handleClose.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.startSSOURI = \"/idp/startSSO.ping?PartnerSpId=\" + process.env.REACT_APP_HOST; //The TargetResource param for registration is set to the startSSO endpoint to after reg we immediately trigger a login flow for better UX.\n\n    this.pfRegURI = \"/sp/startSSO.ping?SpSessionAuthnAdapterId=idprofiledefaultIdentityProfile&TargetResource=\" + process.env.REACT_APP_HOST + this.startSSOURI + \"&PolicyAction=identity.registration\";\n    /* END PING INTEGRATION: */\n  }\n  /* BEGIN PING INTEGRATION: for react-idle-timer */\n\n\n  _onAction(e) {\n    // console.info(\"React-idle-timer\", 'user did something', e);\n    this.setState({\n      isTimedOut: false\n    });\n  }\n\n  _onActive(e) {\n    console.info(\"React-idle-timer\", 'user is active', e);\n    this.setState({\n      isTimedOut: false\n    });\n  }\n\n  _onIdle(e) {\n    console.info(\"React-idle-timer\", 'user is idle', e); // const isTimedOut = this.state.isTimedOut;\n\n    if (this.state.isTimedOut) {\n      this.startSLO();\n    } else {\n      this.setState({\n        showTimeoutModal: true,\n        isTimedOut: true\n      });\n      this.IdleTimer.reset();\n    }\n  }\n\n  handleClose() {\n    console.info(\"We are closing the timeout modal.\");\n    this.setState({\n      showTimeoutModal: false\n    });\n    window.location.assign(this.startSSOURI); //TODO we Send back through PF to renew the session. This should be done via API.\n  }\n\n  handleLogout() {\n    console.info(\"We are logging out from the timeout modal.\");\n    this.startSLO();\n  }\n  /* END PING INTEGRATION: for react-idle-timer */\n\n\n  triggerModalRegister() {\n    this.refs.modalRegister.toggle();\n  }\n\n  onModalRegisterSubmit() {\n    this.refs.modalRegister.toggle();\n    this.refs.modalRegisterConfirm.toggle();\n  }\n\n  triggerModalRegisterConfirm() {\n    this.refs.modalRegisterConfirm.toggle();\n  }\n\n  triggerModalLogin() {\n    /* BEGIN PING INTEGRATION */\n    // Decided to just trigger an authn flow anytime we call this method.\n    window.location.assign(this.startSSOURI);\n    /* The below logic had the risk of submitting username to an expired flowId if the user just sat there for a time. \n    if (!window.location.search) {\n      window.location.assign(this.startSSOURI);\n    }\n    else { \n      this.refs.modalLogin.toggle(); //This is left here just in case the user closes the modal and clicks \"sign in\" after we already have a flowId in the URL.\n    } END PING INTEGRATION */\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n  /* BEGIN PING INTEGRATION */\n\n\n  startSLO() {\n    console.info(\"NavbarMain.js\", \"Logging out.\"); //end the local app session\n\n    this.Session.clearUserAppSession(); //An advisor should just be taken back to P14E dock. A partner persona shouldn't get SLO'd.\n\n    if (window.location.pathname === \"/app/advisor/client\" || window.location.pathname === \"/app/advisor\") {\n      //TODO IMPORTANT this P14E dock needs to be an env_var or injected during spin up in k8s. It will make it easier for anyone that want to clone their own instance of BXF.\n      window.location.assign(\"https://desktop.pingone.com/anywealthadvisor/\");\n    } else {\n      //Banking customers get SLO'd.\n      const url = \"/sp/startSLO.ping?TargetResource=\" + process.env.REACT_APP_HOST + process.env.PUBLIC_URL + \"/\";\n      window.location.assign(url);\n    }\n  }\n  /* END PING INTEGRATION: */\n\n\n  componentDidMount() {\n    // BEGIN PING INTEGRATION\n    const isLoggedOut = this.Session.getAuthenticatedUserItem(\"subject\") === null || this.Session.getAuthenticatedUserItem(\"subject\") === 'undefined' ? true : false; // this.Session.protectPage(isLoggedOut, window.location.pathname, this.Session.getAuthenticatedUserItem(\"bxFinanceUserType\"));\n\n    this.setState({\n      loggedOut: isLoggedOut\n    }); // Check for a querystring; Will be fowId or REF in our current use cases.\n\n    if (window.location.search) {\n      const params = new URLSearchParams(window.location.search); // Coming back from authN API.\n\n      if (params.get(\"flowId\")) {\n        this.PingAuthN.handleAuthNflow({\n          flowId: params.get(\"flowId\")\n        }).then(response => response.json()).then(jsonResult => {\n          let success = this.Session.setAuthenticatedUserItem(\"flowResponse\", JSON.stringify(jsonResult)); //Browser's sessionStorage object only stores strings.\n\n          if (jsonResult.status == \"IDENTIFIER_REQUIRED\") {\n            //pop the ID first modal. \n            this.refs.modalLogin.toggle();\n          } else if (jsonResult.status == \"FAILED\") {\n            this.refs.modalError.toggle(\"Authentication\", jsonResult.userMessage);\n          }\n        }).catch(error => console.error('HANDLESUBMIT ERROR', error));\n      } // Coming back as authenticated user from AIK or SLO request from Agentless IK.\n      else if (params.get(\"REF\")) {\n          const REF = params.get(\"REF\");\n          let targetApp = decodeURIComponent(params.get(\"TargetResource\"));\n          const adapter = targetApp.includes(\"marketing\") || targetApp.includes(\"advisor\") ? \"AdvisorSPRefID\" : \"BXFSPRefID\";\n          this.PingAuthN.pickUpAPI(REF, adapter).then(response => response.json()).then(jsonData => {\n            console.info(\"Pickup response\", jsonData);\n\n            if (jsonData.resumePath) {\n              // Means we are in a SLO request. SSO uses resumeURL.\n              this.Session.clearUserAppSession();\n              /* \n              SP-init front-channel SLO with AIK won't work in a pure SPA.\n              All sessions are properly revoked but the PF cookie changes after\n              the REF pickup, so the resumePath returns an Expired page.\n              Since all sessions are cleaned up, we are just handling the redirect\n              back to the TargetResource ourselves which is /app/.\n              */\n\n              targetApp = process.env.REACT_APP_HOST + process.env.PUBLIC_URL + \"/\"; //targetApp = jsonData.resumePath + \"?source=\" + adapter;\n            } else if (jsonData.bxFinanceUserType == \"AnyWealthAdvisor\" || jsonData.bxFinanceUserType == \"AnyMarketing\") {\n              this.Session.setAuthenticatedUserItem(\"email\", jsonData.Email);\n              this.Session.setAuthenticatedUserItem(\"subject\", jsonData.subject);\n              this.Session.setAuthenticatedUserItem(\"firstName\", jsonData.FirstName);\n              this.Session.setAuthenticatedUserItem(\"lastName\", jsonData.LastName);\n              this.Session.setAuthenticatedUserItem(\"uid\", jsonData.uid);\n              this.Session.setAuthenticatedUserItem(\"bxFinanceUserType\", jsonData.bxFinanceUserType);\n            } else {\n              //banking customer\n              this.Session.setAuthenticatedUserItem(\"email\", jsonData.Email);\n              this.Session.setAuthenticatedUserItem(\"subject\", jsonData.subject);\n              this.Session.setAuthenticatedUserItem(\"firstName\", jsonData.FirstName);\n              this.Session.setAuthenticatedUserItem(\"lastName\", jsonData.LastName);\n              this.Session.setAuthenticatedUserItem(\"uid\", jsonData.uid);\n              this.Session.setAuthenticatedUserItem(\"pfSessionId\", jsonData.sessionid);\n              this.Session.setAuthenticatedUserItem(\"street\", jsonData.street);\n              this.Session.setAuthenticatedUserItem(\"mobile\", jsonData.mobile);\n              this.Session.setAuthenticatedUserItem(\"city\", jsonData.city);\n              this.Session.setAuthenticatedUserItem(\"zipcode\", jsonData.postalCode);\n              const fullAddress = jsonData.street + \", \" + jsonData.city + \", \" + jsonData.postalCode;\n              this.Session.setAuthenticatedUserItem(\"fullAddress\", fullAddress);\n              this.Session.setAuthenticatedUserItem(\"bxFinanceUserType\", \"customer\"); //This is the default. Only dynamically set for partner/workforce.\n            } // TODO can we do this SPA style with history.push? We would need to map targetApp to respective Router path.\n\n\n            window.location.assign(targetApp);\n          }).catch(error => {\n            console.error(\"Agentless Pickup Error:\", error);\n            this.refs.modalError.toggle(\"Session Pickup Error\", error);\n          });\n        }\n    } // END PING INTEGRATION\n    // Original T3 code in this lifecycle method removed.\n\n  }\n\n  render() {\n    const {\n      match\n    } = this.props;\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"navbar-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      color: \"dark\",\n      dark: true,\n      expand: \"md\",\n      className: \"navbar-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/logo-white.png\",\n      alt: data.brand,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 51\n      }\n    })), /*#__PURE__*/React.createElement(NavbarToggler, {\n      onClick: this.toggle.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Collapse, {\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      className: \"justify-content-end ml-auto navbar-nav-utility\",\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/search.svg\",\n      alt: data.menus.utility.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 28\n      }\n    }))), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/map-marker.svg\",\n      alt: data.menus.utility.locations,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 28\n      }\n    }))), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/support.svg\",\n      alt: data.menus.utility.support,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 28\n      }\n    }))), this.state.loggedOut && /*#__PURE__*/React.createElement(NavItem, {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      href: \"#\",\n      onClick: this.triggerModalLogin.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/user.svg\",\n      alt: data.menus.utility.login,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 83\n      }\n    }), \" \", data.menus.utility.login)), !this.state.loggedOut && /*#__PURE__*/React.createElement(NavItem, {\n      className: \"logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      onClick: this.startSLO.bind(this),\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/user.svg\",\n      alt: data.menus.utility.logout,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 90\n      }\n    }), \" \", data.menus.utility.logout)), this.state.loggedOut && /*#__PURE__*/React.createElement(NavItem, {\n      className: \"register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      href: this.pfRegURI,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, data.menus.utility.register_intro, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 87\n      }\n    }, data.menus.utility.register)))))), !this.state.loggedOut && /*#__PURE__*/React.createElement(IdleTimer, {\n      ref: ref => {\n        this.IdleTimer = ref;\n      },\n      element: document,\n      onActive: this.onActive,\n      onIdle: this.onIdle,\n      onAction: this.onAction,\n      debounce: 250,\n      timeout: this.state.timeout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 13\n      }\n    }), !this.state.loggedOut && /*#__PURE__*/React.createElement(IdleTimeOutModal, {\n      showModal: this.state.showTimeoutModal,\n      handleClose: this.handleClose,\n      handleLogout: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      classes: {\n        root: 'navBarRoot'\n      },\n      position: \"static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: 'https://logos-download.com/wp-content/uploads/2016/06/FedEx_logo_orange-purple.png',\n      className: 'logo',\n      src: logo // onClick={()=>{props.changePage('/')}}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"navBarText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, \"Shipping\"), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardArrowDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      // onClick={props.forceAuth}\n      className: \"navBarText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }\n    }, \"Tracking\"), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardArrowDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"navBarText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, \"Design & Print\"), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardArrowDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"navBarText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }\n    }, \"Locations\"), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardArrowDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"navBarText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }\n    }, \"Support\"), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardArrowDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button // onClick={props.toggleNavMenu}\n    , {\n      classes: {\n        root: 'signUpButtonActive',\n        // root: props.navMenuOpen ? 'signUpButtonActive': 'signUpButton',\n        endIcon: 'endIconSignUpButton',\n        label: 'signUpButtonLabel'\n      },\n      color: \"inherit\",\n      endIcon: /*#__PURE__*/React.createElement(AccountCircle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 30\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 17\n      }\n    }, \"Sign Up or Log In\"), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"start\",\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(Navbar, {\n      color: \"dark\",\n      dark: true,\n      expand: \"md\",\n      className: \"navbar-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      className: \"mr-auto navbar-nav-main\",\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }\n    }, this.props && this.props.data && this.props.data.menus && this.props.data.menus.primary ? this.props.data.menus.primary.map((item, i) => {\n      return /*#__PURE__*/React.createElement(NavItem, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        to: item.url,\n        activeClassName: \"active\",\n        exact: true,\n        tag: RRNavLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 23\n        }\n      }, item.title));\n    }) : data.menus.primary.map((item, i) => {\n      return /*#__PURE__*/React.createElement(NavItem, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        to: item.url,\n        activeClassName: \"active\",\n        tag: RRNavLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 25\n        }\n      }, item.title));\n    })))), /*#__PURE__*/React.createElement(Navbar, {\n      color: \"dark\",\n      dark: true,\n      expand: \"md\",\n      className: \"navbar-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobilenav-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavbarToggler, {\n      onClick: this.toggle.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobilenav-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/logo-white.png\",\n      alt: data.brand,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 51\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobilenav-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      href: \"#\",\n      className: \"login\",\n      onClick: this.triggerModalLogin.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 13\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"nav-link logout d-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 13\n      }\n    }, \"Sign Out\")), /*#__PURE__*/React.createElement(Collapse, {\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      className: \"navbar-nav-main navbar-light bg-light\",\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 13\n      }\n    }, this.props && this.props.data && this.props.data.menus && this.props.data.menus.primary ? this.props.data.menus.primary.map((item, i) => {\n      return /*#__PURE__*/React.createElement(NavItem, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        to: item.url,\n        activeClassName: \"active\",\n        exact: true,\n        tag: RRNavLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 23\n        }\n      }, item.title));\n    }) : data.menus.primary.map((item, i) => {\n      return /*#__PURE__*/React.createElement(NavItem, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        to: item.url,\n        activeClassName: \"active\",\n        exact: true,\n        tag: RRNavLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 25\n        }\n      }, item.title));\n    })), /*#__PURE__*/React.createElement(Nav, {\n      className: \"navbar-nav-utility\",\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/search.svg\",\n      alt: data.menus.utility.search,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 26\n      }\n    }), \" \", data.menus.utility.search)), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/map-marker.svg\",\n      alt: data.menus.utility.locations,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 26\n      }\n    }), \" \", data.menus.utility.locations)), /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/support.svg\",\n      alt: data.menus.utility.support,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 26\n      }\n    }), \" \", data.menus.utility.support)), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      href: \"#\",\n      onClick: this.triggerModalLogin.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/user.svg\",\n      alt: data.menus.utility.login,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 79\n      }\n    }), \" \", data.menus.utility.login)), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"logout d-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/user.svg\",\n      alt: data.menus.utility.logout,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 51\n      }\n    }), \" \", data.menus.utility.logout)), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      href: this.pfRegURI,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/icons/user.svg\",\n      alt: data.menus.utility.logout,\n      className: \"mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 47\n      }\n    }), \" \", data.menus.utility.register))))), /*#__PURE__*/React.createElement(ModalRegister, {\n      ref: \"modalRegister\",\n      onSubmit: this.onModalRegisterSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ModalRegisterConfirm, {\n      ref: \"modalRegisterConfirm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ModalLogin, {\n      ref: \"modalLogin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ModalError, {\n      ref: \"modalError\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default NavbarMain;","map":{"version":3,"sources":["/Users/andrewkeohane/Documents/fedex/BXFinance-Apps/bxfinance-scenario1/src/components/NavbarMain/NavbarMain.js"],"names":["React","Collapse","Container","Navbar","NavbarToggler","Nav","NavItem","NavLink","Link","RRNavLink","ModalRegister","ModalRegisterConfirm","ModalLogin","PingAuthN","Session","ModalError","IdleTimer","IdleTimeOutModal","data","AppBar","Toolbar","Button","IconButton","KeyboardArrowDown","AccountCircle","Search","styles","theme","root","flexGrow","width","padding","menuButton","marginRight","spacing","height","fontSize","title","NavbarMain","Component","constructor","props","state","isOpen","loggedOut","timeout","showTimeoutModal","isTimedOut","onAction","_onAction","bind","onActive","_onActive","onIdle","_onIdle","handleClose","handleLogout","startSSOURI","process","env","REACT_APP_HOST","pfRegURI","e","setState","console","info","startSLO","reset","window","location","assign","triggerModalRegister","refs","modalRegister","toggle","onModalRegisterSubmit","modalRegisterConfirm","triggerModalRegisterConfirm","triggerModalLogin","clearUserAppSession","pathname","url","PUBLIC_URL","componentDidMount","isLoggedOut","getAuthenticatedUserItem","search","params","URLSearchParams","get","handleAuthNflow","flowId","then","response","json","jsonResult","success","setAuthenticatedUserItem","JSON","stringify","status","modalLogin","modalError","userMessage","catch","error","REF","targetApp","decodeURIComponent","adapter","includes","pickUpAPI","jsonData","resumePath","bxFinanceUserType","Email","subject","FirstName","LastName","uid","sessionid","street","mobile","city","postalCode","fullAddress","render","match","classes","brand","menus","utility","locations","support","login","logout","register_intro","register","ref","document","logo","endIcon","label","primary","map","item","i"],"mappings":"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","sourcesContent":["// Packages\nimport React from 'react';\nimport {\n  Collapse,\n  Container,\n  Navbar,\n  NavbarToggler,\n  Nav,\n  NavItem,\n  NavLink\n} from 'reactstrap';\nimport { Link, NavLink as RRNavLink } from 'react-router-dom';\n\n// Components\nimport ModalRegister from '../ModalRegister';\nimport ModalRegisterConfirm from '../ModalRegisterConfirm';\nimport ModalLogin from '../ModalLogin';\nimport PingAuthN from '../Integration/PingAuthN'; /* PING INTEGRATION */\nimport Session from '../Utils/Session'; /* PING INTEGRATION */\nimport ModalError from '../ModalError'; /* PING INTEGRATION: */\nimport './NavbarMain.scss';\nimport IdleTimer from 'react-idle-timer'; /* PING INTEGRATION: */\nimport { IdleTimeOutModal } from '../ModalTimeout/IdleTimeOutModal'; /* PING INTEGRATION: */\n// Data\nimport data from './data.json';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown';\nimport AccountCircle from '@material-ui/icons/AccountCircleOutlined';\nimport Search from '@material-ui/icons/Search';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    width: '100vw',\n    padding: 0\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    height: \"30px !important\",\n    fontSize: \"30px !important\"\n  },\n  title: {\n    flexGrow: 1,\n  },\n})\n\n\nclass NavbarMain extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n      loggedOut: true, /* PING INTEGRATION: */\n      timeout: 1000 * 60 * 30, /* PING INTEGRATION: for react-idle-timer */\n      showTimeoutModal: false, /* PING INTEGRATION: for react-idle-timer */\n      isTimedOut: false /* PING INTEGRATION: for react-idle-timer */\n    };\n    /* BEGIN PING INTEGRATION: */\n    this.PingAuthN = new PingAuthN();\n    this.Session = new Session();\n    this.IdleTimer = null;\n    this.onAction = this._onAction.bind(this); /* PING INTEGRATION: for react-idle-timer */\n    this.onActive = this._onActive.bind(this); /* PING INTEGRATION: for react-idle-timer */\n    this.onIdle = this._onIdle.bind(this); /* PING INTEGRATION: for react-idle-timer */\n    this.handleClose = this.handleClose.bind(this)\n    this.handleLogout = this.handleLogout.bind(this)\n    \n    this.startSSOURI = \"/idp/startSSO.ping?PartnerSpId=\" + process.env.REACT_APP_HOST;\n    //The TargetResource param for registration is set to the startSSO endpoint to after reg we immediately trigger a login flow for better UX.\n    this.pfRegURI = \"/sp/startSSO.ping?SpSessionAuthnAdapterId=idprofiledefaultIdentityProfile&TargetResource=\" + process.env.REACT_APP_HOST + this.startSSOURI + \"&PolicyAction=identity.registration\";\n    /* END PING INTEGRATION: */\n  }\n\n  /* BEGIN PING INTEGRATION: for react-idle-timer */\n  _onAction(e) {\n    // console.info(\"React-idle-timer\", 'user did something', e);\n    this.setState({ isTimedOut: false });\n  }\n\n  _onActive(e) {\n    console.info(\"React-idle-timer\", 'user is active', e);\n    this.setState({ isTimedOut: false });\n  }\n\n  _onIdle(e) {\n    console.info(\"React-idle-timer\", 'user is idle', e);\n    // const isTimedOut = this.state.isTimedOut;\n    if (this.state.isTimedOut) {\n      this.startSLO();\n    } else {\n      this.setState({\n        showTimeoutModal: true,\n        isTimedOut: true,\n      });\n      this.IdleTimer.reset();\n    }\n\n  }\n  handleClose() {\n    console.info(\"We are closing the timeout modal.\");\n    this.setState({ showTimeoutModal: false });\n    window.location.assign(this.startSSOURI); //TODO we Send back through PF to renew the session. This should be done via API.\n  }\n  handleLogout() {\n    console.info(\"We are logging out from the timeout modal.\");\n    this.startSLO();\n  }\n  /* END PING INTEGRATION: for react-idle-timer */\n\n  triggerModalRegister() {\n    this.refs.modalRegister.toggle();\n  }\n  onModalRegisterSubmit() {\n    this.refs.modalRegister.toggle();\n    this.refs.modalRegisterConfirm.toggle();\n  }\n  triggerModalRegisterConfirm() {\n    this.refs.modalRegisterConfirm.toggle();\n  }\n  triggerModalLogin() {\n    /* BEGIN PING INTEGRATION */\n    // Decided to just trigger an authn flow anytime we call this method.\n    window.location.assign(this.startSSOURI);\n    /* The below logic had the risk of submitting username to an expired flowId if the user just sat there for a time. \n    if (!window.location.search) {\n      window.location.assign(this.startSSOURI);\n    }\n    else { \n      this.refs.modalLogin.toggle(); //This is left here just in case the user closes the modal and clicks \"sign in\" after we already have a flowId in the URL.\n    } END PING INTEGRATION */\n  }\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n  /* BEGIN PING INTEGRATION */\n  startSLO() {\n    console.info(\"NavbarMain.js\", \"Logging out.\");\n\n    //end the local app session\n    this.Session.clearUserAppSession();\n    //An advisor should just be taken back to P14E dock. A partner persona shouldn't get SLO'd.\n    if (window.location.pathname === \"/app/advisor/client\" || window.location.pathname === \"/app/advisor\") {\n      //TODO IMPORTANT this P14E dock needs to be an env_var or injected during spin up in k8s. It will make it easier for anyone that want to clone their own instance of BXF.\n      window.location.assign(\"https://desktop.pingone.com/anywealthadvisor/\");\n    } else {\n      //Banking customers get SLO'd.\n      const url = \"/sp/startSLO.ping?TargetResource=\" + process.env.REACT_APP_HOST + process.env.PUBLIC_URL + \"/\";\n      window.location.assign(url);\n    }\n\n  }\n  /* END PING INTEGRATION: */\n\n  componentDidMount() {\n    // BEGIN PING INTEGRATION\n    const isLoggedOut = (this.Session.getAuthenticatedUserItem(\"subject\") === null || this.Session.getAuthenticatedUserItem(\"subject\") === 'undefined') ? true : false;\n    // this.Session.protectPage(isLoggedOut, window.location.pathname, this.Session.getAuthenticatedUserItem(\"bxFinanceUserType\"));\n\n    this.setState({ loggedOut: isLoggedOut });\n\n    // Check for a querystring; Will be fowId or REF in our current use cases.\n    if (window.location.search) {\n      const params = new URLSearchParams(window.location.search);\n\n      // Coming back from authN API.\n      if (params.get(\"flowId\")) {\n        this.PingAuthN.handleAuthNflow({ flowId: params.get(\"flowId\") })\n          .then(response => response.json())\n          .then(jsonResult => {\n            let success = this.Session.setAuthenticatedUserItem(\"flowResponse\", JSON.stringify(jsonResult)); //Browser's sessionStorage object only stores strings.\n            if (jsonResult.status == \"IDENTIFIER_REQUIRED\") {\n              //pop the ID first modal. \n              this.refs.modalLogin.toggle();\n            } else if (jsonResult.status == \"FAILED\") {\n              this.refs.modalError.toggle(\"Authentication\", jsonResult.userMessage);\n            }\n          })\n          .catch(error => console.error('HANDLESUBMIT ERROR', error));\n      } // Coming back as authenticated user from AIK or SLO request from Agentless IK.\n      else if (params.get(\"REF\")) {\n        const REF = params.get(\"REF\");\n        let targetApp = decodeURIComponent(params.get(\"TargetResource\"));\n        const adapter = (targetApp.includes(\"marketing\") || targetApp.includes(\"advisor\")) ? \"AdvisorSPRefID\" : \"BXFSPRefID\";\n\n        this.PingAuthN.pickUpAPI(REF, adapter)\n          .then(response => response.json())\n          .then((jsonData) => {\n            console.info(\"Pickup response\", jsonData);\n            if (jsonData.resumePath) { // Means we are in a SLO request. SSO uses resumeURL.\n              this.Session.clearUserAppSession();\n              /* \n              SP-init front-channel SLO with AIK won't work in a pure SPA.\n              All sessions are properly revoked but the PF cookie changes after\n              the REF pickup, so the resumePath returns an Expired page.\n              Since all sessions are cleaned up, we are just handling the redirect\n              back to the TargetResource ourselves which is /app/.\n              */\n              targetApp = process.env.REACT_APP_HOST + process.env.PUBLIC_URL + \"/\";\n              //targetApp = jsonData.resumePath + \"?source=\" + adapter;\n            }\n            else if (jsonData.bxFinanceUserType == \"AnyWealthAdvisor\" || jsonData.bxFinanceUserType == \"AnyMarketing\") {\n              this.Session.setAuthenticatedUserItem(\"email\", jsonData.Email);\n              this.Session.setAuthenticatedUserItem(\"subject\", jsonData.subject);\n              this.Session.setAuthenticatedUserItem(\"firstName\", jsonData.FirstName);\n              this.Session.setAuthenticatedUserItem(\"lastName\", jsonData.LastName);\n              this.Session.setAuthenticatedUserItem(\"uid\", jsonData.uid);\n              this.Session.setAuthenticatedUserItem(\"bxFinanceUserType\", jsonData.bxFinanceUserType);\n            } else { //banking customer\n              this.Session.setAuthenticatedUserItem(\"email\", jsonData.Email);\n              this.Session.setAuthenticatedUserItem(\"subject\", jsonData.subject);\n              this.Session.setAuthenticatedUserItem(\"firstName\", jsonData.FirstName);\n              this.Session.setAuthenticatedUserItem(\"lastName\", jsonData.LastName);\n              this.Session.setAuthenticatedUserItem(\"uid\", jsonData.uid);\n              this.Session.setAuthenticatedUserItem(\"pfSessionId\", jsonData.sessionid);\n              this.Session.setAuthenticatedUserItem(\"street\", jsonData.street);\n              this.Session.setAuthenticatedUserItem(\"mobile\", jsonData.mobile);\n              this.Session.setAuthenticatedUserItem(\"city\", jsonData.city);\n              this.Session.setAuthenticatedUserItem(\"zipcode\", jsonData.postalCode);\n              const fullAddress = jsonData.street + \", \" + jsonData.city + \", \" + jsonData.postalCode;\n              this.Session.setAuthenticatedUserItem(\"fullAddress\", fullAddress);\n              this.Session.setAuthenticatedUserItem(\"bxFinanceUserType\", \"customer\"); //This is the default. Only dynamically set for partner/workforce.\n            }\n            // TODO can we do this SPA style with history.push? We would need to map targetApp to respective Router path.\n            window.location.assign(targetApp);\n          })\n          .catch(error => {\n            console.error(\"Agentless Pickup Error:\", error);\n            this.refs.modalError.toggle(\"Session Pickup Error\", error);\n          });\n      } \n    }\n    // END PING INTEGRATION\n    // Original T3 code in this lifecycle method removed.\n  }\n\n  render() {\n    const { match } = this.props;\n    const { classes } = this.props;\n    return (\n      <section className=\"navbar-main\">\n        {/* DESKTOP NAV */}\n        <Navbar color=\"dark\" dark expand=\"md\" className=\"navbar-desktop\">\n          <Container>\n            <Link to=\"/\" className=\"navbar-brand\"><img src={process.env.PUBLIC_URL + \"/images/logo-white.png\"} alt={data.brand} /></Link>\n            <NavbarToggler onClick={this.toggle.bind(this)} />\n            <Collapse isOpen={this.state.isOpen} navbar>\n              <Nav className=\"justify-content-end ml-auto navbar-nav-utility\" navbar>\n                <NavItem>\n                  <NavLink><img src={process.env.PUBLIC_URL + \"/images/icons/search.svg\"} alt={data.menus.utility.search} /></NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink><img src={process.env.PUBLIC_URL + \"/images/icons/map-marker.svg\"} alt={data.menus.utility.locations} /></NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink><img src={process.env.PUBLIC_URL + \"/images/icons/support.svg\"} alt={data.menus.utility.support} /></NavLink>\n                </NavItem>\n                {/* BEGIN PING INTEGRATION: added conditional rendering logic for Sign In/Out links. */}\n                {this.state.loggedOut &&\n                  <NavItem className=\"login\">\n                    <NavLink href=\"#\" onClick={this.triggerModalLogin.bind(this)}><img src={process.env.PUBLIC_URL + \"/images/icons/user.svg\"} alt={data.menus.utility.login} className=\"mr-1\" /> {data.menus.utility.login}</NavLink>\n                  </NavItem>}\n                {!this.state.loggedOut &&\n                  <NavItem className=\"logout\">\n                    <Link to=\"/\" onClick={this.startSLO.bind(this)} className=\"nav-link\"><img src={process.env.PUBLIC_URL + \"/images/icons/user.svg\"} alt={data.menus.utility.logout} className=\"mr-1\" /> {data.menus.utility.logout}</Link>\n                  </NavItem>}\n                {this.state.loggedOut &&\n                  <NavItem className=\"register\">\n                    <NavLink href={this.pfRegURI}>{data.menus.utility.register_intro} <strong>{data.menus.utility.register}</strong></NavLink>\n                  </NavItem>}\n                {/* END PING INTEGRATION */}\n              </Nav>\n            </Collapse>\n          </Container>\n          {/* BEGIN PING INTEGRATION */}\n          {!this.state.loggedOut &&\n            <IdleTimer\n              ref={ref => { this.IdleTimer = ref }}\n              element={document}\n              onActive={this.onActive}\n              onIdle={this.onIdle}\n              onAction={this.onAction}\n              debounce={250}\n              timeout={this.state.timeout} />}\n          {!this.state.loggedOut &&\n            <IdleTimeOutModal\n              showModal={this.state.showTimeoutModal}\n              handleClose={this.handleClose}\n              handleLogout={this.handleLogout}\n            />}\n          {/* END PING INTEGRATION */}\n        </Navbar>\n        <div className={classes.root}>\n          <AppBar\n            classes={{\n                root: 'navBarRoot'\n            }}\n            position=\"static\">\n            <Toolbar>\n                <img\n                    alt={'https://logos-download.com/wp-content/uploads/2016/06/FedEx_logo_orange-purple.png'}\n                    className={'logo'}\n                    src={logo}\n                    // onClick={()=>{props.changePage('/')}}\n                />\n                \n                <p\n                    className=\"navBarText\"\n                >\n                    Shipping\n                </p>\n                <IconButton\n                    edge=\"start\"\n                    className={classes.menuButton}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                >\n                    <KeyboardArrowDown />\n                </IconButton>\n                <p\n                    // onClick={props.forceAuth}\n                    className=\"navBarText\"\n                >\n                  Tracking\n                </p>\n                <IconButton\n                    edge=\"start\"\n                    className={classes.menuButton}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                >\n                    <KeyboardArrowDown />\n                </IconButton>\n              \n                <p\n                    className=\"navBarText\"\n                >\n                    Design & Print\n                </p>\n                <IconButton\n                    edge=\"start\"\n                    className={classes.menuButton}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                >\n                    <KeyboardArrowDown />\n                </IconButton>\n                <p\n                    className=\"navBarText\"\n                >\n                    Locations\n                </p>\n                <IconButton\n                    edge=\"start\"\n                    className={classes.menuButton}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                >\n                    <KeyboardArrowDown />\n                </IconButton>\n                <p\n                    className=\"navBarText\"\n                >\n                    Support\n                </p>\n                <IconButton\n                    edge=\"start\"\n                    className={classes.menuButton}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                >\n                    <KeyboardArrowDown />\n                </IconButton>\n                <Button\n                    // onClick={props.toggleNavMenu}\n                    classes={{\n                        root:'signUpButtonActive',\n                        // root: props.navMenuOpen ? 'signUpButtonActive': 'signUpButton',\n                        endIcon: 'endIconSignUpButton',\n                        label: 'signUpButtonLabel'\n                    }}\n                    color=\"inherit\"\n                    endIcon={<AccountCircle/>}\n                >\n                    Sign Up or Log In\n                </Button>\n                <IconButton\n                    edge=\"start\"\n                    className={classes.menuButton}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                >\n                    <Search />\n                </IconButton>\n            </Toolbar>\n          </AppBar>\n        </div>\n\n        <Navbar color=\"dark\" dark expand=\"md\" className=\"navbar-desktop\">\n          <Container>\n            <Nav className=\"mr-auto navbar-nav-main\" navbar>\n              {this.props && this.props.data && this.props.data.menus && this.props.data.menus.primary ? (\n                this.props.data.menus.primary.map((item, i) => {\n                  return (\n                    <NavItem key={i}>\n                      <NavLink to={item.url} activeClassName=\"active\" exact tag={RRNavLink}>{item.title}</NavLink>\n                    </NavItem>\n                  );\n                })\n              ) : (\n                  data.menus.primary.map((item, i) => {\n                    return (\n                      <NavItem key={i}>\n                        <NavLink to={item.url} activeClassName=\"active\" tag={RRNavLink}>{item.title}</NavLink>\n                      </NavItem>\n                    );\n                  })\n                )}\n            </Nav>\n          </Container>\n        </Navbar>\n        {/* MOBILE NAV */}\n        <Navbar color=\"dark\" dark expand=\"md\" className=\"navbar-mobile\">\n          <div className=\"mobilenav-menu\">\n            <NavbarToggler onClick={this.toggle.bind(this)} />\n          </div>\n          <div className=\"mobilenav-brand\">\n            <Link to=\"/\" className=\"navbar-brand\"><img src={process.env.PUBLIC_URL + \"/images/logo-white.png\"} alt={data.brand} /></Link>\n          </div>\n          <div className=\"mobilenav-login\">\n            <NavLink href=\"#\" className=\"login\" onClick={this.triggerModalLogin.bind(this)}>Sign In</NavLink>\n            <Link to=\"/\" className=\"nav-link logout d-none\">Sign Out</Link>\n          </div>\n          <Collapse isOpen={this.state.isOpen} navbar>\n            <Nav className=\"navbar-nav-main navbar-light bg-light\" navbar>\n              {this.props && this.props.data && this.props.data.menus && this.props.data.menus.primary ? (\n                this.props.data.menus.primary.map((item, i) => {\n                  return (\n                    <NavItem key={i}>\n                      <NavLink to={item.url} activeClassName=\"active\" exact tag={RRNavLink}>{item.title}</NavLink>\n                    </NavItem>\n                  );\n                })\n              ) : (\n                  data.menus.primary.map((item, i) => {\n                    return (\n                      <NavItem key={i}>\n                        <NavLink to={item.url} activeClassName=\"active\" exact tag={RRNavLink}>{item.title}</NavLink>\n                      </NavItem>\n                    );\n                  })\n                )}\n            </Nav>\n            <Nav className=\"navbar-nav-utility\" navbar>\n              <NavItem>\n                <NavLink><img src={process.env.PUBLIC_URL + \"/images/icons/search.svg\"} alt={data.menus.utility.search} className=\"mr-1\" /> {data.menus.utility.search}</NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink><img src={process.env.PUBLIC_URL + \"/images/icons/map-marker.svg\"} alt={data.menus.utility.locations} className=\"mr-1\" /> {data.menus.utility.locations}</NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink><img src={process.env.PUBLIC_URL + \"/images/icons/support.svg\"} alt={data.menus.utility.support} className=\"mr-1\" /> {data.menus.utility.support}</NavLink>\n              </NavItem>\n              <NavItem className=\"login\">\n                <NavLink href=\"#\" onClick={this.triggerModalLogin.bind(this)}><img src={process.env.PUBLIC_URL + \"/images/icons/user.svg\"} alt={data.menus.utility.login} className=\"mr-1\" /> {data.menus.utility.login}</NavLink>\n              </NavItem>\n              <NavItem className=\"logout d-none\">\n                <Link to=\"/\" className=\"nav-link\"><img src={process.env.PUBLIC_URL + \"/images/icons/user.svg\"} alt={data.menus.utility.logout} className=\"mr-1\" /> {data.menus.utility.logout}</Link>\n              </NavItem>\n              <NavItem className=\"register\">\n                {/* PING INTEGRATION: added env var and link to PF LIP reg form. */}\n                <NavLink href={this.pfRegURI}><img src={process.env.PUBLIC_URL + \"/images/icons/user.svg\"} alt={data.menus.utility.logout} className=\"mr-1\" /> {data.menus.utility.register}</NavLink>\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </Navbar>\n        <ModalRegister ref=\"modalRegister\" onSubmit={this.onModalRegisterSubmit.bind(this)} />\n        <ModalRegisterConfirm ref=\"modalRegisterConfirm\" />\n        <ModalLogin ref=\"modalLogin\" />\n        <ModalError ref=\"modalError\" />{/* PING INTEGRATION */}\n      </section>\n    );\n  }\n}\n\nexport default NavbarMain;\n"]},"metadata":{},"sourceType":"module"}